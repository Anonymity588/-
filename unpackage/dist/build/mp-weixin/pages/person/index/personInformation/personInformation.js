(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/person/index/personInformation/personInformation"],{"27ee":function(t,e,n){"use strict";n.r(e);var s=n("da6a"),o=n("e313");for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("d46f");var u,a=n("f0c5"),c=Object(a["a"])(o["default"],s["b"],s["c"],!1,null,"1db2eb9f",null,!1,s["a"],u);e["default"]=c.exports},"8f46":function(t,e,n){"use strict";(function(t){n("a345");s(n("66fd"));var e=s(n("27ee"));function s(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},d46f:function(t,e,n){"use strict";var s=n("e084"),o=n.n(s);o.a},da6a:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s}));var s={uniPopup:function(){return n.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(n.bind(null,"57d2"))}},o=function(){var t=this,e=t.$createElement;t._self._c},i=[]},dccc:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{stuMessage:{},Code:{to:"746662113@qq.com",from:"1935461147@qq.com",topic:"验证码",content:"contentTest"},newMessage:{ph1:"",ph2:"",ph3:"",ph4:"",oldpassword:"",newpassword:"",inpumail:"",code:"",newmail:""},show:{type1:!1,type2:!0,type3:!1},countdown:"提交",trueCode:"",enableSubmit:{passwordCheck:!1},changeContent:"",newStudent:{id:"s001",name:"申鹤",number:"3190608020",password:"123",account:"zh",sex:"男",phone:"2579247368"}}},onLoad:function(){var e=this;t.getStorage({key:"studentMessage",success:function(t){e.stuMessage=t.data,console.log(e.stuMessage)}}),this.newStudent.id=this.stuMessage.id,this.newStudent.name=this.stuMessage.name,this.newStudent.number=this.stuMessage.number,this.newStudent.account=this.stuMessage.account,this.newStudent.password=this.stuMessage.password,this.newStudent.phone=this.stuMessage.mail},methods:{submit:function(){var e=this;"更改账号"==this.changeContent&&(this.newStudent.account=this.newMessage.account,console.log(this.newStudent),t.request({url:"http://139.196.45.104:9001/updateStudent",data:{student:this.newStudent},method:"POST",success:function(n){console.log(n.data),e.stuMessage.account=e.newStudent.account,t.showToast({title:"修改成功",duration:2e3,icon:"error"}),e.$refs.popup.close()},fail:function(t){console.log(t)}})),"更改密码"!=this.changeContent&&"更改绑定邮箱"!=this.changeContent||(""==this.newMessage.inpumail?t.showToast({title:"验证码不能为空",duration:2e3,icon:"error"}):this.newMessage.code!=this.trueCode?t.showToast({title:"验证码错误",duration:2e3,icon:"error"}):("更改密码"==this.changeContent&&(this.newStudent.password=this.newMessage.newpassword,t.request({url:"http://139.196.45.104:9001/updateStudent",data:{student:this.newStudent},method:"POST",success:function(n){console.log(n.data),e.stuMessage.password=e.newStudent.password,t.showToast({title:"修改成功",duration:2e3,icon:"error"}),e.$refs.popup.close()},fail:function(t){console.log(t)}})),"更改绑定邮箱"==this.changeContent&&(this.newStudent.phone=this.newMessage.newmail,t.request({url:"http://139.196.45.104:9001/updateStudent",data:{student:this.newStudent},method:"POST",success:function(n){console.log(n.data),e.stuMessage.mail=e.newStudent.phone,t.showToast({title:"修改成功",duration:2e3,icon:"error"}),e.$refs.popup.close()},fail:function(t){console.log(t)}}))))},change:function(t){this.$refs.popup.open("center"),console.log(t),1==t?(this.changeContent="更改账号",this.show.type1=!0,this.show.type2=!1,this.show.type3=!1,this.newMessage.ph1="输入新账号"):2==t?(this.changeContent="更改密码",this.show.type1=!1,this.show.type2=!0,this.show.type3=!1,this.newMessage.ph1="输入旧密码",this.newMessage.ph2="输入新密码",this.newMessage.ph3="输入绑定邮箱",this.newMessage.ph4="输入邮箱验证码"):3==t&&(this.changeContent="更改绑定邮箱",this.show.type1=!1,this.show.type2=!1,this.show.type3=!0,this.newMessage.ph1="输入旧邮箱",this.newMessage.ph2="输入新邮箱")},returnBack:function(){t.navigateBack({})},close:function(){this.$refs.popup.close(),"更改密码"!=this.changeContent&&"更改绑定邮箱"!=this.changeContent||(clearTimeout(times),this.countdown="获取")},getCode:function(){var e=this;if(typeof this.countdown==Number)if(this.countdown=1*this.countdown,this.countdown>0)t.showToast({title:this.countdown+"秒后再试",duration:2e3,icon:"error"});else{t.showToast({title:"验证码已发送",duration:2e3,icon:"success"}),this.countdown=30;var n=setInterval((function(){e.countdown--,e.countdown<=0&&(clearInterval(n),e.countdown="获取")}),1e3)}else{this.trueCode=Math.round(8999*Math.random()+1e3),this.Code.content=this.trueCode,t.request({url:"https://route.showapi.com/2377-1?showapi_appid=1072728&showapi_sign=12bcb88ceda8423494b3d5317f321de0&to="+this.Code.to+"&from_to="+this.Code.from+"&topic="+this.Code.topic+"&content="+this.Code.content,method:"POST",success:function(t){console.log(t.data),e.text="request success"}}),this.countdown=30;n=setInterval((function(){e.countdown--,e.countdown<=0&&(clearInterval(n),e.countdown="获取")}),1e3);t.showToast({title:"验证码已发送",duration:2e3,icon:"success"})}},checkEmail:function(){var e=this,n=this.newMessage.inpumail;if(n){var s=RegExp(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/).test(n);if(s)return!0;t.showModal({title:"请输入正确的邮箱",showCancel:!1,success:function(t){t.confirm&&(e.newMessage.inpumail="")}})}}}};e.default=n}).call(this,n("543d")["default"])},e084:function(t,e,n){},e313:function(t,e,n){"use strict";n.r(e);var s=n("dccc"),o=n.n(s);for(var i in s)"default"!==i&&function(t){n.d(e,t,(function(){return s[t]}))}(i);e["default"]=o.a}},[["8f46","common/runtime","common/vendor"]]]);